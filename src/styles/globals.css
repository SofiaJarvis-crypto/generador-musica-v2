/* src/styles/globals.css */
@import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,300&display=swap');

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

:root {
  --amber: #f5c842;
  --orange: #ff6b35;
  --bg: #0c0b09;
  --surface: #141210;
  --surface2: #1c1916;
  --border: rgba(255,255,255,0.07);
  --border-amber: rgba(245,200,66,0.2);
  --text: #f0ede6;
  --text-dim: rgba(240,237,230,0.45);
  --text-mid: rgba(240,237,230,0.7);
  --mp-blue: #009ee3;
  --radius: 16px;
  --radius-sm: 10px;
  --transition: 0.3s cubic-bezier(0.4,0,0.2,1);
}

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  opacity: 0.4;
}

/* ── Nav ── */
.nav {
  display: flex; align-items: center; justify-content: space-between;
  padding: 20px 48px;
  border-bottom: 1px solid var(--border);
  background: rgba(12,11,9,0.9);
  backdrop-filter: blur(20px);
  position: sticky; top: 0; z-index: 50;
}
.logo {
  font-family: 'Syne', sans-serif; font-weight: 800; font-size: 17px;
  letter-spacing: -0.3px; line-height: 1.2; cursor: pointer;
}
.logo span { color: var(--amber); }
.logo em { font-style: normal; color: var(--orange); }
.nav-right { display: flex; align-items: center; gap: 16px; }
.nav-link { font-size: 14px; color: var(--text-dim); cursor: pointer; transition: var(--transition); background: none; border: none; }
.nav-link:hover { color: var(--text); }

/* ── Steps bar ── */
.steps-bar {
  display: flex; align-items: center; justify-content: center;
  padding: 28px 48px 0;
}
.step-item {
  display: flex; align-items: center; gap: 10px;
  font-size: 13px; color: var(--text-dim);
}
.step-item.active { color: var(--text); }
.step-item.done { color: var(--amber); }
.step-num {
  width: 28px; height: 28px; border-radius: 50%;
  border: 1.5px solid currentColor;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Syne', sans-serif; font-weight: 700; font-size: 12px;
  flex-shrink: 0; transition: var(--transition);
}
.step-item.active .step-num {
  background: var(--amber); border-color: var(--amber);
  color: var(--bg); box-shadow: 0 0 16px rgba(245,200,66,0.3);
}
.step-item.done .step-num { border-color: var(--amber); color: var(--amber); }
.step-label { font-weight: 400; }
.step-line { width: 48px; height: 1px; background: var(--border); margin: 0 8px; flex-shrink: 0; }
.step-line.done { background: var(--amber); opacity: 0.3; }

/* ── Shared form styles ── */
.page-wrap { position: relative; z-index: 1; }
.form-screen { max-width: 680px; margin: 0 auto; padding: 48px 24px 80px; }
.form-headline {
  font-family: 'Syne', sans-serif; font-weight: 800;
  font-size: clamp(32px, 5vw, 52px);
  letter-spacing: -2px; line-height: 1.0; margin-bottom: 10px;
}
.form-headline em { font-style: italic; color: var(--amber); }
.form-subline { font-size: 16px; color: var(--text-dim); font-weight: 300; line-height: 1.5; margin-bottom: 40px; }
.form-section { margin-bottom: 32px; }
.form-label {
  font-size: 11px; letter-spacing: 0.12em; text-transform: uppercase;
  color: var(--text-dim); font-weight: 500; margin-bottom: 10px; display: block;
}
.input-field {
  width: 100%; padding: 15px 18px;
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text); font-family: 'DM Sans', sans-serif; font-size: 15px;
  transition: var(--transition);
}
.input-field::placeholder { color: rgba(240,237,230,0.2); }
.input-field:focus { outline: none; border-color: var(--border-amber); background: var(--surface2); }
.input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

/* ── Genre grid ── */
.genre-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
.genre-card {
  background: var(--surface); border: 1.5px solid var(--border);
  border-radius: var(--radius-sm); padding: 16px 12px;
  text-align: center; cursor: pointer; transition: var(--transition); user-select: none;
}
.genre-card:hover { border-color: rgba(255,255,255,0.15); background: var(--surface2); }
.genre-card.sel {
  border-color: var(--amber); background: rgba(245,200,66,0.06);
  box-shadow: 0 0 0 1px rgba(245,200,66,0.15);
}
.genre-emoji { font-size: 26px; display: block; margin-bottom: 6px; }
.genre-name { font-size: 13px; color: var(--text-mid); font-weight: 400; }
.genre-card.sel .genre-name { color: var(--amber); }

/* ── Mood pills ── */
.mood-row { display: flex; gap: 8px; flex-wrap: wrap; }
.mood-pill {
  padding: 8px 18px; border-radius: 100px; border: 1px solid var(--border);
  font-size: 13px; cursor: pointer; transition: var(--transition);
  color: var(--text-dim); user-select: none; background: transparent;
}
.mood-pill:hover { border-color: rgba(255,255,255,0.2); color: var(--text); }
.mood-pill.sel { background: rgba(255,107,53,0.1); border-color: rgba(255,107,53,0.4); color: var(--orange); }

/* ── Duration pills ── */
.dur-row { display: flex; gap: 8px; }
.dur-pill {
  flex: 1; padding: 12px; background: var(--surface); border: 1.5px solid var(--border);
  border-radius: var(--radius-sm); text-align: center; cursor: pointer; transition: var(--transition);
}
.dur-pill:hover { border-color: rgba(255,255,255,0.15); }
.dur-pill.sel { border-color: var(--amber); background: rgba(245,200,66,0.05); }
.dur-pill-name { font-family: 'Syne', sans-serif; font-weight: 600; font-size: 15px; color: var(--text); }
.dur-pill-desc { font-size: 11px; color: var(--text-dim); margin-top: 3px; }
.dur-pill.sel .dur-pill-name { color: var(--amber); }

/* ── Generate button ── */
.generate-btn {
  width: 100%; margin-top: 40px; padding: 18px;
  background: linear-gradient(135deg, var(--amber), var(--orange));
  border: none; border-radius: var(--radius-sm);
  font-family: 'Syne', sans-serif; font-weight: 700; font-size: 17px;
  color: var(--bg); cursor: pointer; transition: var(--transition);
  display: flex; align-items: center; justify-content: center; gap: 10px;
  position: relative; overflow: hidden;
}
.generate-btn:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 16px 48px rgba(245,200,66,0.25); }
.generate-btn:disabled { opacity: 0.6; cursor: not-allowed; }
.generate-btn-note { text-align: center; font-size: 13px; color: var(--text-dim); margin-top: 14px; font-weight: 300; }
.generate-btn-note strong { color: var(--amber); font-weight: 500; }

/* ── Generating screen ── */
.generating-screen { max-width: 520px; margin: 0 auto; padding: 80px 24px; text-align: center; }
.gen-visual {
  width: 120px; height: 120px; border-radius: 50%;
  background: radial-gradient(circle, rgba(245,200,66,0.15) 0%, transparent 70%);
  border: 1px solid rgba(245,200,66,0.2);
  display: flex; align-items: center; justify-content: center;
  margin: 0 auto 32px; position: relative;
}
.gen-visual::before {
  content: ''; position: absolute; inset: -8px; border-radius: 50%;
  border: 1px solid rgba(245,200,66,0.1);
  animation: ripple 2s ease-in-out infinite;
}
.gen-visual::after {
  content: ''; position: absolute; inset: -20px; border-radius: 50%;
  border: 1px solid rgba(245,200,66,0.05);
  animation: ripple 2s ease-in-out infinite 0.5s;
}
@keyframes ripple { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.3); opacity: 0; } }
.gen-icon { font-size: 44px; }
.gen-title { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 28px; letter-spacing: -1px; margin-bottom: 10px; }
.gen-sub { font-size: 15px; color: var(--text-dim); font-weight: 300; margin-bottom: 40px; }
.gen-steps { text-align: left; max-width: 320px; margin: 0 auto; }
.gen-step {
  display: flex; align-items: center; gap: 14px;
  padding: 12px 0; border-bottom: 1px solid var(--border);
  font-size: 14px; color: var(--text-dim);
}
.gen-step:last-child { border-bottom: none; }
.gen-step-icon { font-size: 18px; width: 24px; text-align: center; }
.gen-step.done { color: var(--text); }
.gen-step.active { color: var(--text); }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.spin { display: inline-block; animation: spin 1s linear infinite; }
.gen-progress { width: 100%; height: 3px; background: var(--border); border-radius: 100px; margin: 28px 0 0; overflow: hidden; }
.gen-progress-fill { height: 100%; background: linear-gradient(90deg, var(--amber), var(--orange)); border-radius: 100px; transition: width 0.5s ease; }

/* ── Player screen ── */
.player-screen { max-width: 720px; margin: 0 auto; padding: 48px 24px 80px; }
.player-eyebrow { display: flex; align-items: center; gap: 10px; margin-bottom: 24px; }
.player-eyebrow-badge {
  display: inline-flex; align-items: center; gap: 6px;
  background: rgba(245,200,66,0.08); border: 1px solid var(--border-amber);
  border-radius: 100px; padding: 5px 14px; font-size: 12px; color: var(--amber);
}
.pulse { width: 6px; height: 6px; border-radius: 50%; background: var(--amber); animation: pulse-anim 1.5s infinite; }
@keyframes pulse-anim { 0%,100%{opacity:1;} 50%{opacity:0.3;} }
.player-headline { font-family: 'Syne', sans-serif; font-weight: 800; font-size: clamp(28px, 4vw, 44px); letter-spacing: -1.5px; line-height: 1.05; margin-bottom: 8px; }
.player-meta { font-size: 14px; color: var(--text-dim); margin-bottom: 24px; font-weight: 300; }

/* ── Song selector tabs ── */
.song-tabs { display: flex; gap: 8px; margin-bottom: 20px; }
.song-tab {
  flex: 1; padding: 12px; background: var(--surface); border: 1.5px solid var(--border);
  border-radius: var(--radius-sm); text-align: center; cursor: pointer; transition: var(--transition);
  font-family: 'DM Sans', sans-serif;
}
.song-tab:hover { border-color: rgba(255,255,255,0.15); }
.song-tab.active { border-color: var(--amber); background: rgba(245,200,66,0.05); }
.song-tab-label { font-size: 12px; color: var(--text-dim); margin-bottom: 2px; }
.song-tab.active .song-tab-label { color: var(--amber); }
.song-tab-name { font-family: 'Syne', sans-serif; font-size: 14px; font-weight: 600; color: var(--text); }

/* ── Waveform player ── */
.player-card { background: var(--surface); border: 1px solid var(--border); border-radius: 20px; overflow: hidden; margin-bottom: 24px; }
.player-top { padding: 28px 28px 0; display: flex; align-items: flex-start; gap: 20px; }
.player-thumb {
  width: 72px; height: 72px; border-radius: 12px; flex-shrink: 0;
  background: linear-gradient(135deg, rgba(245,200,66,0.2), rgba(255,107,53,0.2));
  border: 1px solid var(--border-amber);
  display: flex; align-items: center; justify-content: center; font-size: 32px;
}
.player-info { flex: 1; }
.player-track-name { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 20px; margin-bottom: 4px; }
.player-track-meta { font-size: 13px; color: var(--text-dim); }
.watermark-badge {
  display: inline-flex; align-items: center; gap: 6px;
  background: rgba(255,107,53,0.08); border: 1px solid rgba(255,107,53,0.2);
  border-radius: 100px; padding: 4px 12px; font-size: 11px; color: var(--orange);
  letter-spacing: 0.04em; margin-top: 8px;
}
.waveform-wrap { padding: 24px 28px 16px; }
.waveform { display: flex; align-items: center; gap: 2px; height: 60px; cursor: pointer; }
.wave-bar { flex: 1; background: rgba(245,200,66,0.15); border-radius: 2px; transition: background 0.1s; }
.wave-bar.played { background: var(--amber); }
.wave-bar:hover { background: rgba(245,200,66,0.35); }
.waveform-time { display: flex; justify-content: space-between; font-size: 11px; color: var(--text-dim); margin-top: 6px; font-family: monospace; }
.player-controls { padding: 16px 28px 24px; display: flex; align-items: center; gap: 16px; }
.ctrl-play {
  width: 52px; height: 52px; border-radius: 50%;
  background: linear-gradient(135deg, var(--amber), var(--orange));
  border: none; cursor: pointer; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  font-size: 20px; transition: var(--transition);
}
.ctrl-play:hover { transform: scale(1.08); box-shadow: 0 8px 24px rgba(245,200,66,0.3); }
.ctrl-info { flex: 1; }
.ctrl-playing { font-size: 13px; color: var(--text-mid); }
.ctrl-tip { font-size: 12px; color: var(--text-dim); margin-top: 2px; font-weight: 300; }
.watermark-info {
  margin: 0 28px 24px; background: rgba(255,107,53,0.05); border: 1px solid rgba(255,107,53,0.12);
  border-radius: var(--radius-sm); padding: 14px 16px; display: flex; align-items: center; gap: 12px;
}
.watermark-info-text { font-size: 13px; color: var(--text-mid); line-height: 1.5; }
.watermark-info-text strong { color: var(--orange); font-weight: 500; }

/* ── Regen link ── */
.regen-link { text-align: center; font-size: 13px; color: var(--text-dim); margin-bottom: 32px; font-weight: 300; }
.regen-link button { color: var(--amber); cursor: pointer; background: none; border: none; font-size: 13px; text-decoration: underline; }
.regen-link button:disabled { opacity: 0.4; cursor: not-allowed; text-decoration: none; }

/* ── Pay box ── */
.pay-box {
  background: var(--surface); border: 1px solid var(--border-amber);
  border-radius: 20px; padding: 28px; position: relative; overflow: hidden;
}
.pay-box::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, var(--amber), var(--orange)); }
.pay-top { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 20px; gap: 16px; flex-wrap: wrap; }
.pay-label { font-size: 11px; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-dim); margin-bottom: 8px; }
.pay-includes { display: flex; flex-direction: column; gap: 6px; }
.pay-item { display: flex; align-items: center; gap: 8px; font-size: 14px; color: var(--text-mid); }
.pay-item-check { color: var(--amber); font-size: 12px; }
.pay-right { text-align: right; flex-shrink: 0; }
.pay-price { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 40px; color: var(--text); letter-spacing: -1.5px; line-height: 1; }
.pay-note { font-size: 12px; color: var(--text-dim); margin-top: 4px; }
.mp-btn {
  width: 100%; padding: 16px; background: var(--mp-blue); border: none;
  border-radius: var(--radius-sm); font-family: 'Syne', sans-serif; font-weight: 700;
  font-size: 16px; color: white; cursor: pointer; transition: var(--transition);
  display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 20px;
}
.mp-btn:hover:not(:disabled) { background: #0088c7; transform: translateY(-1px); box-shadow: 0 8px 24px rgba(0,158,227,0.3); }
.mp-btn:disabled { opacity: 0.6; cursor: not-allowed; }
.mp-logo { background: white; border-radius: 4px; padding: 2px 6px; font-weight: 900; font-size: 11px; color: var(--mp-blue); letter-spacing: 0.02em; }
.pay-security { display: flex; align-items: center; justify-content: center; gap: 6px; margin-top: 12px; font-size: 12px; color: var(--text-dim); font-weight: 300; }

/* ── Success screen ── */
.success-screen { max-width: 520px; margin: 0 auto; padding: 80px 24px; text-align: center; }
.success-icon { font-size: 64px; margin-bottom: 24px; animation: pop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
@keyframes pop { from {transform:scale(0);} to {transform:scale(1);} }
.success-title { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 36px; letter-spacing: -1.5px; margin-bottom: 10px; }
.success-sub { font-size: 16px; color: var(--text-dim); font-weight: 300; margin-bottom: 40px; }
.success-files { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-sm); padding: 16px 20px; text-align: left; margin-bottom: 20px; }
.file-item { display: flex; align-items: center; gap: 12px; padding: 8px 0; border-bottom: 1px solid var(--border); font-size: 14px; color: var(--text-mid); }
.file-item:last-child { border-bottom: none; }
.file-icon { font-size: 18px; }
.file-badge { margin-left: auto; font-size: 11px; color: var(--amber); background: rgba(245,200,66,0.08); padding: 2px 8px; border-radius: 100px; }
.download-btn {
  display: flex; align-items: center; justify-content: center; gap: 10px;
  width: 100%; padding: 18px;
  background: linear-gradient(135deg, var(--amber), var(--orange));
  border: none; border-radius: var(--radius-sm);
  font-family: 'Syne', sans-serif; font-weight: 700; font-size: 17px;
  color: var(--bg); cursor: pointer; transition: var(--transition); margin-bottom: 16px;
}
.download-btn:hover { transform: translateY(-2px); box-shadow: 0 16px 48px rgba(245,200,66,0.25); }
.share-row { display: flex; gap: 10px; justify-content: center; margin-top: 16px; }
.share-btn {
  flex: 1; padding: 12px; background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius-sm); font-size: 14px; color: var(--text-mid);
  cursor: pointer; transition: var(--transition); font-family: 'DM Sans', sans-serif;
}
.share-btn:hover { border-color: rgba(255,255,255,0.15); color: var(--text); }

/* ── Error states ── */
.error-box {
  background: rgba(255,59,59,0.06); border: 1px solid rgba(255,59,59,0.2);
  border-radius: var(--radius-sm); padding: 16px 20px;
  font-size: 14px; color: #ff6b6b; text-align: center; margin-bottom: 20px;
}
.preparing-box {
  background: rgba(245,200,66,0.06); border: 1px solid var(--border-amber);
  border-radius: var(--radius-sm); padding: 20px; text-align: center; margin-bottom: 20px;
}
.preparing-box p { font-size: 14px; color: var(--text-mid); margin-top: 8px; }

/* ── Responsive ── */
@media (max-width: 640px) {
  .nav { padding: 16px 20px; }
  .steps-bar { padding: 20px 16px 0; }
  .step-label { display: none; }
  .step-line { width: 20px; }
  .form-screen, .player-screen, .generating-screen, .success-screen { padding-left: 16px; padding-right: 16px; }
  .input-row { grid-template-columns: 1fr; }
  .genre-grid { grid-template-columns: repeat(2, 1fr); }
  .pay-top { flex-direction: column; }
  .pay-right { text-align: left; }
}
